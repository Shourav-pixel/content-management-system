<%# Notun %>

<div class="mx-auto md:w-2/3 w-full flex">
  <div class="mx-auto">
    <% if notice.present? %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
    <% end %>
  </div>
</div>

<%# ADDED %>

<div class="basic row">
  <div class="col-md-5 left">
    <div class="images product-images px-4">
      <div class="product-img-holder">
        <%= image_tag @storage.image_url, height: '50%', width: '50%', class: 'main-img' if @storage.image %>
      </div>
    </div>
  </div>
  <div class="col-md-7 right" id="product">
    <div class="pd-summary">
      <div class="product-short-info">
        <h1 itemprop="name" class="product-name">
          <b><%= @storage.name %></b>
        </h1>
        <hr>
        <table class="product-info-table">
          <tbody>
            <tr class="product-info-group">
              <td class="product-info-label">Category</td>
              <td class="product-info-data product-regular-price">
                : <%= link_to(@storage.category.name, @storage.category) %>
              </td>
            </tr>
            <tr class="product-info-group">
              <td class="product-info-label">Description</td>
              <td class="product-info-data product-status">
                : <%= @storage.description %>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <br>
    <%if user_signed_in? && (@storage.user == current_user || current_user.admin?)%>
      <h2><b>Actions</b></h2>
      <hr>
      <br>
      <div class="cart-option">
        
        
        <div class="inline-block ml-2">
          
            <%= button_to "Destroy", @storage, method: :delete, class: "btn btn-danger" %>
             <%= link_to "Edit this book", edit_storage_path(@storage), class: "btn btn-info" %>
           
           <%= link_to "Back to books", storages_path, class: "btn btn-primary" %>
          <%else%>
           <%= link_to "Add new item", new_storage_book_path(@storage), class: "btn btn-secondary" %>
            
            <%= link_to "Show Item", storage_books_path(@storage), class: "btn btn-secondary" %>
       <%end%>

           
           
        </div>
      </div>
           
   
    </div>
  </div>
</div>
<hr>
<!-- List of books -->
<div class="bg-white">
  <div class="mx-auto max-w-2xl px-4  sm:px-6 lg:max-w-7xl lg:px-8">
    <h2 class="text-2xl font-semibold mb-4">List of Items</h2>
    <div class="grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8">
      <% @storage.books.each do |book| %>
        <div class="group relative border border-gray-200 rounded-md overflow-hidden">
          <%= image_tag book.image_url, class: "w-full h-48 object-cover", alt: "#{book.title} Image" if book.image %>
          <div class="p-4">
            <h3 class="text-base font-medium text-gray-700 mb-2"><%= "#{book.title}, #{book.author}" %></h3>
            <p class="text-sm text-gray-500 mb-2"><%= book.synopsis %></p>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <%= button_to book_like_path(book), method: :patch, class: "like-button mr-2", id: "like-button", remote: true do %>
                  <svg aria-label="<%= book.liked_by?(current_user) ? 'Unlike' : 'Like' %>" class="x1lliihq x1n2onr6 xxk16z8" fill="red" height="24" viewBox="0 0 48 48" width="24">
                    <title><%= book.liked_by?(current_user) ? 'Unlike' : 'Like' %></title>
                    <path d="M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"></path>
                  </svg>
                <% end %>
                <span class="text-sm text-gray-500"><%= book.likes_count %></span>
              </div>
              <%= link_to "View Details", storage_book_path(@storage, book), class: "text-sm font-medium text-blue-600" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
